@model DateMate.Models.ProfileViewModel
@using Microsoft.AspNet.Identity

@{
    ViewBag.Title = "SeeProfile";
}

<h2>SeeProfile</h2>

<div style="display: flex; justify-content: center">
    <div>
        <dl class="dl-horizontal">
            <dd>
                <img width="150" height="auto" src="@Url.Action("Image", new {id = Model.Id})" />
            </dd>
        </dl>
    </div>
    <div>
        <dl class="dl-horizontal">
            <dt>
                @Html.DisplayNameFor(model => model.Users.NickName)
            </dt>
            <dd>
                @Html.DisplayFor(model => model.Users.NickName)
            </dd>
            <dt>
                @Html.DisplayNameFor(model => model.Users.Location)
            </dt>
            <dd>
                @Html.DisplayFor(model => model.Users.Location)
            </dd>
            <dt>
                @Html.DisplayNameFor(model => model.Users.Fabric)
            </dt>
            <dd>
                @Html.DisplayFor(model => model.Users.Fabric)
            </dd>
            <dt>
                @Html.DisplayNameFor(model => model.Users.PhoneNumber)
            </dt>
            <dd>
                @Html.DisplayFor(model => model.Users.PhoneNumber)
            </dd>
            <dt>
                @Html.DisplayNameFor(model => model.Users.UserName)
            </dt>
            <dd>
                @Html.DisplayFor(model => model.Users.UserName)
            </dd>
        </dl>
    </div>
</div>
        <table class="table">
            <tr>
                <th>
                    @Html.DisplayNameFor(model => model.Posts.Single().Text)
                </th>
                <th></th>
            </tr>

            @foreach (var item in Model.Posts)
            {
                <tr>
                    <td>
                        @Html.DisplayFor(modelItem => item.From.NickName): @Html.DisplayFor(modelItem => item.Text)
                    </td>
                    @*<td>
                        <img src="@Url.Action("Image", new { id = item.Id})" />
                    </td>*@
                </tr>
            }
            </table>
@Html.ActionLink("New Post", "Create", "Posts", new { id = Model.Id }, new { })

@if (User.Identity.GetUserId() == Model.Id)
{
    <button type="button" class="btn btn-primary">
        @Html.ActionLink("Edit profile", "EditProfile", "Manage", new { id = Model.Id }, new { })
    </button>
}
